{% extends "base.html" %}

{% block title %}B·∫£ng X·∫øp H·∫°ng{% endblock %}

{% block content %}
<div class="container py-4">
    
    <!-- HEADER GI·∫¢I ƒê·∫§U -->
    <div class="text-center mb-5">
        <img src="https://cdn-icons-png.flaticon.com/512/6455/6455061.png" width="80" class="mb-3">
        <h2 class="fw-bold text-dark">Gi·∫£i ƒë·∫•u Kim C∆∞∆°ng</h2>
        <p class="text-muted">Top 10 ng∆∞·ªùi h·ªçc chƒÉm ch·ªâ nh·∫•t tu·∫ßn n√†y</p>
        <div class="d-inline-block bg-warning bg-opacity-10 text-warning px-3 py-1 rounded-pill fw-bold small">
            <i class="fas fa-clock me-1"></i> K·∫øt th√∫c trong 2 ng√†y
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            
            <!-- DANH S√ÅCH B·∫¢NG X·∫æP H·∫†NG -->
            <div class="card border-0 shadow-sm rounded-4 overflow-hidden mb-5">
                <div class="list-group list-group-flush">
                    
                    {% for user in leaderboard %}
                    <div class="list-group-item py-3 px-4 d-flex align-items-center border-bottom-0 {% if loop.last == false %}border-bottom{% endif %} hover-bg">
                        
                        <!-- C·ªôt 1: Th·ª© h·∫°ng -->
                        <div class="me-3 text-center" style="width: 30px;">
                            {% if user.rank == 1 %}
                                <i class="fas fa-crown text-warning fs-4"></i>
                            {% elif user.rank == 2 %}
                                <i class="fas fa-medal text-secondary fs-4"></i>
                            {% elif user.rank == 3 %}
                                <i class="fas fa-medal text-danger fs-4" style="color: #cd7f32 !important;"></i> <!-- M√†u ƒë·ªìng -->
                            {% else %}
                                <span class="fw-bold text-muted">{{ user.rank }}</span>
                            {% endif %}
                        </div>

                        <!-- C·ªôt 2: Avatar -->
                        <img src="https://ui-avatars.com/api/?name={{ user.username }}&background={{ user.avatar_color }}&color=fff&size=40" class="rounded-circle me-3" width="40" height="40">

                        <!-- C·ªôt 3: T√™n -->
                        <div class="flex-grow-1">
                            <h6 class="fw-bold mb-0 text-dark">{{ user.username }}</h6>
                            {% if user.rank <= 3 %}
                                <small class="text-success" style="font-size: 0.7rem;">ƒêang b·ª©t ph√°! üî•</small>
                            {% endif %}
                        </div>

                        <!-- C·ªôt 4: ƒêi·ªÉm XP -->
                        <div class="text-end">
                            <span class="fw-bold text-primary">{{ user.xp }} XP</span>
                        </div>
                    </div>
                    {% endfor %}

                </div>
            </div>

        </div>
    </div>
</div>

<!-- THANH C·ª¶A T√îI (STICKY BOTTOM) -->
<div class="fixed-bottom mb-3" style="pointer-events: none;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <!-- Card c·ªßa m√¨nh -->
                <div class="card border-2 border-primary shadow-lg rounded-4 overflow-hidden" style="pointer-events: auto; background-color: #f0f8ff;">
                    <div class="card-body py-3 px-4 d-flex align-items-center">
                        
                        <!-- Rank -->
                        <div class="me-3 text-center" style="width: 30px;">
                            <span class="fw-bold text-dark">{{ my_rank.rank }}</span>
                        </div>

                        <!-- Avatar -->
                        <img src="https://ui-avatars.com/api/?name={{ my_rank.username }}&background={{ my_rank.avatar_color }}&color=fff&size=40" class="rounded-circle me-3 border border-2 border-primary" width="40" height="40">

                        <!-- T√™n -->
                        <div class="flex-grow-1">
                            <h6 class="fw-bold mb-0 text-primary">{{ my_rank.username }} (B·∫°n)</h6>
                        </div>

                        <!-- XP -->
                        <div class="text-end">
                            <span class="fw-bold text-primary">{{ my_rank.xp }} XP</span>
                            <i class="fas fa-arrow-up text-success ms-2 small"></i>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Hi·ªáu ·ª©ng hover cho t·ª´ng d√≤ng */
    .hover-bg { transition: background-color 0.2s; }
    .hover-bg:hover { background-color: #f8f9fa; }
    
    /* ƒê·∫©y n·ªôi dung l√™n ƒë·ªÉ kh√¥ng b·ªã thanh bottom che m·∫•t */
    body { padding-bottom: 80px; }
</style>

{% endblock %}
```

### C√°ch ch·∫°y th·ª≠:
1.  Ch·∫°y l·∫°i `python app.py`.
2.  V√†o menu **BXH** (Leaderboard).
3.  B·∫°n s·∫Ω th·∫•y danh s√°ch Top 10 ng∆∞·ªùi d√πng gi·∫£ l·∫≠p.
4.  Nh√¨n xu·ªëng d∆∞·ªõi ƒë√°y m√†n h√¨nh, b·∫°n s·∫Ω th·∫•y m·ªôt thanh n·ªïi hi·ªÉn th·ªã th·ª© h·∫°ng c·ªßa ch√≠nh b·∫°n (Rank 15), gi√∫p b·∫°n so s√°nh ƒëi·ªÉm s·ªë c·ªßa m√¨nh v·ªõi top tr√™n.

Giao di·ªán n√†y r·∫•t s·∫°ch s·∫Ω v√† gi·ªëng phong c√°ch c·ªßa c√°c ·ª©ng d·ª•ng h·ªçc t·∫≠p hi·ªán nay.